import React from "react";

// Example weapon data
const weapons = [
  { name: "Hammer Pump Shotgun", type: "Shotgun", rarity: "Legendary", damage: "103", fire_rate: "0.7", mag_size: "8" },
  { name: "Striker AR", type: "Assault Rifle", rarity: "Legendary", damage: "26", fire_rate: "7.8", mag_size: "25" },
  { name: "Ranger Pistol", type: "Pistol", rarity: "Epic", damage: "28", fire_rate: "6.75", mag_size: "16" },
  { name: "Reaper Sniper Rifle", type: "Sniper", rarity: "Legendary", damage: "116", fire_rate: "0.65", mag_size: "3" },
  { name: "Thunder Burst SMG", type: "SMG", rarity: "Legendary", damage: "24", fire_rate: "8.5", mag_size: "30" },
  { name: "Nemesis AR", type: "Assault Rifle", rarity: "Epic", damage: "34", fire_rate: "5.5", mag_size: "28" },
];

export default function WeaponGuideScreen({ setView }) {
  const [filterType, setFilterType] = React.useState("All");
  const [searchTerm, setSearchTerm] = React.useState("");

  const rarityColor = {
    Legendary: "bg-yellow-500/20 border-yellow-500",
    Epic: "bg-purple-500/20 border-purple-500",
  };

  const filteredWeapons = weapons.filter(
    weapon =>
      (filterType === "All" || weapon.type === filterType) &&
      weapon.name.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div className="p-8">
      <h1 className="font-bungee text-4xl text-center text-purple-400 mb-6">Weapon Guide</h1>

      {/* Filter Controls */}
      <div className="flex flex-col md:flex-row gap-4 mb-8 justify-center">
        <select
          value={filterType}
          onChange={(e) => setFilterType(e.target.value)}
          className="bg-gray-700 text-white px-4 py-2 rounded-md"
        >
          <option value="All">All</option>
          <option value="Shotgun">Shotguns</option>
          <option value="Assault Rifle">Assault Rifles</option>
          <option value="Pistol">Pistols</option>
          <option value="Sniper">Snipers</option>
          <option value="SMG">SMGs</option>
        </select>
        <input
          type="text"
          placeholder="Search by name"
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
          className="bg-gray-700 text-white px-4 py-2 rounded-md w-full md:w-64"
        />
      </div>

      {/* Weapon Cards */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {filteredWeapons.map((weapon, index) => (
          <div key={index} className={`border-2 ${rarityColor[weapon.rarity]} rounded-xl p-4 shadow-lg bg-gray-800`}>
            <h2 className="text-white text-xl font-bold">{weapon.name}</h2>
            <p className={`font-semibold ${weapon.rarity === 'Legendary' ? 'text-yellow-400' : 'text-purple-400'}`}>
              {weapon.rarity} {weapon.type}
            </p>
            <div className="mt-4 space-y-1 text-gray-300">
              <p><span className="font-bold text-white">Damage:</span> {weapon.damage}</p>
              <p><span className="font-bold text-white">Fire Rate:</span> {weapon.fire_rate}</p>
              <p><span className="font-bold text-white">Magazine Size:</span> {weapon.mag_size}</p>
            </div>
            {/* Visual Damage Bar */}
            <div className="mt-4 h-2 bg-red-600 rounded-full overflow-hidden">
              <div style={{ width: `${Math.min(Number(weapon.damage), 100)}%` }} className="h-full bg-red-400"></div>
            </div>
          </div>
        ))}
      </div>

      <button
        onClick={() => setView("home")}
        className="mt-10 text-purple-400 hover:text-purple-300 transition text-lg"
      >
        &larr; Back to Home
      </button>
    </div>
  );
}
