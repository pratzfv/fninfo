<div id="root"></div>

<script type="text/babel">
    // --- Data ---
    
    // A list of current and classic points of interest (POIs) in Fortnite.
    const locations = [
        "Tilted Towers", "Retail Row", "Pleasant Park", "Salty Springs", 
        "Lazy Lake", "Misty Meadows", "Slurpy Swamp", "Holly Hedges",
        "Craggy Cliffs", "Steamy Stacks", "Frenzy Farm", "The Agency",
        "The Authority", "Catty Corner", "Coral Castle", "The Grotto",
        "The Shark", "The Rig", "Dirty Docks", "Weeping Woods",
        "Reckless Railways", "Ritzy Riviera", "Snooty Steppes", "Fencing Fields",
        "Hazy Hillside", "Lavish Lair"
    ];

    // A list of popular weapons with their stats.
    const weapons = [
        { name: "Hammer Pump Shotgun", type: "Shotgun", rarity: "Legendary", damage: "103", fire_rate: "0.7", mag_size: "8" },
        { name: "Striker AR", type: "Assault Rifle", rarity: "Legendary", damage: "26", fire_rate: "7.8", mag_size: "25" },
        { name: "Ranger Pistol", type: "Pistol", rarity: "Epic", damage: "28", fire_rate: "6.75", mag_size: "16" },
        { name: "Reaper Sniper Rifle", type: "Sniper", rarity: "Legendary", damage: "116", fire_rate: "0.65", mag_size: "3" },
        { name: "Thunder Burst SMG", type: "SMG", rarity: "Legendary", damage: "24", fire_rate: "8.5", mag_size: "30" },
        { name: "Nemesis AR", type: "Assault Rifle", rarity: "Epic", damage: "34", fire_rate: "5.5", mag_size: "28" },
    ];
    
    // --- Helper Components ---

    // SVG Icon for Map Pin
    const MapPinIcon = () => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/>
        </svg>
    );

    // SVG Icon for Swords
    const SwordsIcon = () => (
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="m15.2 3-6.4 6.4"/><path d="M8.8 3 2 9.8"/><path d="M12.5 3h-2.5l-1.6 1.6"/><path d="m3 21 6.4-6.4"/><path d="m15.2 21 6.4-6.4"/><path d="M8.8 21 2 14.2"/><path d="m21 3-6.4 6.4"/><path d="M3.5 8.5h2.5l1.6-1.6"/><path d="M18.5 8.5h2.5l1.6-1.6"/><path d="M3.5 15.5h2.5l1.6 1.6"/><path d="M18.5 15.5h2.5l1.6 1.6"/>
        </svg>
    );
    
    // --- Main App Screens ---

    function HomeScreen({ setView }) {
        return (
            <div className="p-8 text-center animate-fade-in">
                <h1 className="font-bungee text-5xl md:text-6xl text-cyan-400 drop-shadow-lg">Fortnite Companion</h1>
                <p className="mt-4 text-lg text-gray-300">Your assistant for the Battle Royale.</p>
                <div className="mt-12 grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                    <button onClick={() => setView('drop')} className="bg-gradient-to-br from-blue-500 to-cyan-500 text-white font-bold py-6 px-4 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 flex flex-col items-center justify-center gap-4">
                        <MapPinIcon />
                        <span className="text-2xl">Random Drop</span>
                    </button>
                    <button onClick={() => setView('weapons')} className="bg-gradient-to-br from-purple-500 to-indigo-500 text-white font-bold py-6 px-4 rounded-xl shadow-lg hover:scale-105 transition-transform duration-300 flex flex-col items-center justify-center gap-4">
                        <SwordsIcon />
                        <span className="text-2xl">Weapon Guide</span>
                    </button>
                </div>
            </div>
        );
    }

    function RandomDropScreen({ setView }) {
        const [selectedLocation, setSelectedLocation] = React.useState(null);
        const [key, setKey] = React.useState(0); // Key to re-trigger animation

        const pickLocation = () => {
            const randomIndex = Math.floor(Math.random() * locations.length);
            setSelectedLocation(locations[randomIndex]);
            setKey(prevKey => prevKey + 1); // Update key to restart animation
        };

        return (
            <div className="p-8 flex flex-col items-center justify-center min-h-screen">
                <h2 className="font-bungee text-4xl text-cyan-400 mb-8">Where we droppin'?</h2>
                <div className="bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md text-center">
                    {selectedLocation ? (
                        <div key={key} className="pop-in">
                            <p className="text-gray-400 text-lg">Your destination is...</p>
                            <p className="font-bungee text-5xl text-yellow-400 my-4 break-words">{selectedLocation}</p>
                        </div>
                    ) : (
                        <p className="text-2xl text-gray-300 h-28 flex items-center justify-center">Click the button to get a random location!</p>
                    )}
                </div>
                <button onClick={pickLocation} className="mt-8 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-4 px-8 rounded-lg shadow-lg text-xl transition-transform duration-200 hover:scale-105">
                    Generate Location
                </button>
                <button onClick={() => setView('home')} className="mt-4 text-cyan-400 hover:text-cyan-300 transition">
                    &larr; Back to Home
                </button>
            </div>
        );
    }

    function WeaponGuideScreen({ setView }) {
        const rarityColor = {
            "Legendary": "bg-yellow-500/20 border-yellow-500",
            "Epic": "bg-purple-500/20 border-purple-500",
        };

        return (
            <div className="p-4 md:p-8">
                <h2 className="font-bungee text-4xl text-center text-purple-400 mb-8">Weapon Guide</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {weapons.map((weapon, index) => (
                        <div key={index} className={`border-2 ${rarityColor[weapon.rarity]} rounded-xl p-4 shadow-lg bg-gray-800 flex flex-col`}>
                            <h3 className="font-bold text-2xl text-white">{weapon.name}</h3>
                            <p className={`font-semibold text-lg ${weapon.rarity === 'Legendary' ? 'text-yellow-400' : 'text-purple-400'}`}>{weapon.rarity} {weapon.type}</p>
                            <div className="mt-4 grid grid-cols-2 gap-2 text-gray-300">
                                <p><span className="font-bold text-white">Damage:</span> {weapon.damage}</p>
                                <p><span className="font-bold text-white">Fire Rate:</span> {weapon.fire_rate}</p>
