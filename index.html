// .env.local
FORTNITE_TRACKER_KEY=YOUR_FORTNITE_TRACKER_API_KEY
OPENAI_KEY=YOUR_OPENAI_API_KEY

// package.json
{
  "name": "fortcompanion",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "fetch:shop": "node scripts/fetchShop.js",
    "fetch:players": "node scripts/fetchPlayers.js",
    "fetch:tournaments": "node scripts/fetchTournaments.js",
    "fetch:leaks": "node scripts/fetchLeaks.js",
    "update:weapons": "node scripts/updateWeapons.js"
  },
  "dependencies": {
    "axios": "^1.4.0",
    "cheerio": "^1.0.0-rc.12",
    "next": "13.4.7",
    "openai": "^4.2.0",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "tailwindcss": "^3.3.2"
  },
  "devDependencies": {
    "node-cron": "^3.0.2"
  }
}

// next.config.js
/** @type {import('next').NextConfig} */
module.exports = { reactStrictMode: true };

// tailwind.config.js
module.exports = {
  content: ["./pages/**/*.{js,jsx}", "./components/**/*.{js,jsx}"],
  theme: {
    extend: {
      backgroundImage: {
        'br-map': "url('/assets/br-map.jpg')",
        'squid':   "url('/assets/squid.jpg')",
        'venture': "url('/assets/venture.jpg')",
        'slurp':   "url('/assets/slurp.jpg')"
      }
    }
  },
  plugins: [require('@tailwindcss/typography')]
};

// .github/workflows/auto_update.yml
name: Auto Update Data
on:
  schedule:
    - cron: '0 0 * * *'
    - cron: '0 * * * *'
    - cron: '0 2 * * 1'
jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm ci
      - run: npm run fetch:shop
      - run: npm run fetch:players
      - run: npm run fetch:tournaments
      - run: npm run fetch:leaks
      - run: npm run update:weapons
      - run: |
          git config user.name "GH Actions"
          git config user.email "actions@github.com"
          git add data/
          git commit -m "Auto-update data" || echo "No changes"

// scripts/fetchShop.js
const fs = require('fs'), axios = require('axios');
(async()=>{
  const { data } = await axios.get('https://fortnite-api.com/v2/shop/br?language=en');
  const shop = data.data.entries.map(e=>({
    id:     e.items[0].images.icon,
    name:   e.items[0].name,
    price:  e.finalPrice,
    rarity: e.items[0].rarity.value,
    icon:   e.items[0].images.icon
  }));
  fs.writeFileSync('data/shop.json', JSON.stringify(shop,null,2));
})();

// scripts/fetchPlayers.js
const fs = require('fs'), axios = require('axios');
(async()=>{
  const { data } = await axios.get('https://api.fortnitetracker.com/v1/creative/playercount',{
    headers:{'TRN-Api-Key':process.env.FORTNITE_TRACKER_KEY}
  });
  fs.writeFileSync('data/playerCount.json',JSON.stringify(data,null,2));
})();

// scripts/fetchTournaments.js
const fs = require('fs'), axios = require('axios');
(async()=>{
  const { data } = await axios.get('https://api.fortnite.com/competitive/events');
  fs.writeFileSync('data/tournaments.json',JSON.stringify(data,null,2));
})();

// scripts/fetchLeaks.js
const fs=require('fs'), axios=require('axios'), cheerio=require('cheerio');
(async()=>{
  const res = await axios.get('https://fortniteskins.net/Leaks');
  const $ = cheerio.load(res.data), leaks=[];
  $('.leak-item').each((i,el)=> leaks.push({
    name:$(el).find('.leak-title').text(),
    img: $(el).find('img').attr('src'),
    date:$(el).find('.leak-date').text()
  }));
  fs.writeFileSync('data/leaks.json',JSON.stringify(leaks,null,2));
})();

// scripts/updateWeapons.js
const fs=require('fs'), OpenAI=require('openai'), weaponsList=require('../data/weaponsStatic.json');
const openai=new OpenAI({apiKey:process.env.OPENAI_KEY});
(async()=>{
  const stats={};
  for(let w of weaponsList){
    const prompt=`Provide JSON: {"reload":seconds,"dps":value,"structure":value,"rarity":"value"} for Fortnite weapon "${w.name}"`;
    const res=await openai.chat.completions.create({
      model:'gpt-4o',
      messages:[{role:'user',content:prompt}]
    });
    stats[w.id]={name:w.name,...JSON.parse(res.choices[0].message.content)};
  }
  fs.writeFileSync('data/weapons.json',JSON.stringify(stats,null,2));
})();

// data/pros.json
[
  {"id":"peterbot","name":"Peterbot","dpi":800,"sens":0.12},
  {"id":"mero",     "name":"Mero",     "dpi":800,"sens":0.13},
  {"id":"cooper",   "name":"Cooper",   "dpi":800,"sens":0.14},
  {"id":"swizzy",   "name":"Swizzy",   "dpi":800,"sens":0.15},
  {"id":"teeny",    "name":"Teeny",    "dpi":800,"sens":0.16},
  {"id":"clix",     "name":"Clix",     "dpi":800,"sens":0.14},
  {"id":"pollo",    "name":"Pollo",    "dpi":800,"sens":0.13},
  {"id":"ritual",   "name":"Ritual",   "dpi":800,"sens":0.12},
  {"id":"premfn",   "name":"PremFN",   "dpi":800,"sens":0.11},
  {"id":"pwralex",  "name":"PWR Alex", "dpi":800,"sens":0.13},
  {"id":"pwrvolx",  "name":"PWR Volx", "dpi":800,"sens":0.14},
  {"id":"pwrworthy","name":"PWR Worthy","dpi":800,"sens":0.15}
]

// data/orgs.json
[
  {"org":"FaZe","earnings":1250000,"fncsWins":12},
  {"org":"NRG","earnings": 980000,"fncsWins":8},
  {"org":"Team Liquid","earnings":750000,"fncsWins":5}
]

// data/weaponsStatic.json
[
  {"id":"scar","name":"SCAR"},
  {"id":"pump","name":"Pump Shotgun"},
  {"id":"sniper","name":"Sniper Rifle"}
]

// data/mapBR.json
{"spots":[
  {"id":1,"name":"Tilted Towers","x":"30%","y":"40%","desc":"High loot, high risk.","img":"tilted.jpg"},
  {"id":2,"name":"Sweaty Sands","x":"60%","y":"70%","desc":"Beachside battles.","img":"sweaty.jpg"}
]}

// data/reloadMaps.json
[
  {"id":"squid","name":"Squid Game","x":"20%","y":"30%","desc":"Last one standing wins.","imgKey":"squid"},
  {"id":"venture","name":"Venture","x":"50%","y":"50%","desc":"Race to the finish.","imgKey":"venture"},
  {"id":"slurp","name":"Slurp Rush","x":"80%","y":"20%","desc":"Collect slurp spheres.","imgKey":"slurp"}
]

// components/Hero.jsx
export default function Hero(){
  return(
    <section className="text-center py-12 bg-gradient-to-r from-purple-600 to-blue-600 text-white">
      <h1 className="text-5xl font-bold mb-4">FortCompanion</h1>
      <p className="text-xl max-w-2xl mx-auto">
        Your live, AI-powered Fortnite HQ. Daily shop with images, hourly player counts, interactive maps, tournament tracker, pro settings, org leaderboard, weapon stats, season countdown, leaks & XP calculator‚Äîall automated.
      </p>
    </section>
  );
}

// components/ShopGrid.jsx
import shop from '../data/shop.json';
export default function ShopGrid(){
  return(
    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 p-4">
      {shop.map(i=>(
        <div key={i.id} className="bg-gray-800 p-4 rounded text-center text-white">
          <img src={i.icon} alt={i.name} className="mx-auto h-20 mb-2"/>
          <h3>{i.name}</h3><p>{i.price} V-Bucks</p><p className="text-sm">{i.rarity}</p>
        </div>
      ))}
    </div>
  );
}

// components/PlayerCount.jsx
import data from '../data/playerCount.json';
export default function PlayerCount(){
  return(
    <div className="p-4 grid grid-cols-2 md:grid-cols-4 gap-4">
      {Object.entries(data).map(([mode,count])=>(
        <div key={mode} className="bg-green-700 p-4 rounded text-white text-center">
          <h3 className="font-medium">{mode.toUpperCase()}</h3><p className="text-2xl">{count.toLocaleString()}</p>
        </div>
      ))}
    </div>
  );
}

// components/Tournaments.jsx
import tours from '../data/tournaments.json';
export default function Tournaments(){
  return(
    <div className="p-4 space-y-6">
      {tours.map(t=>(
        <div key={t.id} className="bg-gray-900 p-4 rounded text-white">
          <h3 className="text-xl font-bold">{t.name} ‚Äì {t.region}</h3>
          <p>Starts: {new Date(t.start).toLocaleString()}</p>
          <p>Prize Pool: ${t.prizePool.toLocaleString()}</p>
          <button className="mt-2 bg-blue-600 px-4 py-2 rounded">View Details</button>
        </div>
      ))}
    </div>
  );
}

// components/MapViewer.jsx
import {useState}from'react';
import brMap from '../data/mapBR.json';
import reloadMaps from '../data/reloadMaps.json';
export default function MapViewer(){
  const [sel,setSel]=useState(null);
  return(
    <div className="relative w-full h-screen bg-br-map bg-cover">
      {brMap.spots.map(s=>(
        <button key={s.id} style={{top:s.y,left:s.x}}
          className="absolute text-red-500" onClick={()=>setSel(s)}>üìç</button>
      ))}
      <div className="absolute top-4 right-4 space-x-2">
        {reloadMaps.map(r=>(
          <button key={r.id} onClick={()=>setSel(r)}
            className="bg-gray-800 text-white px-3 py-1 rounded">{r.name}</button>
        ))}
      </div>
      {sel&&(
        <div className="absolute bottom-0 left-0 bg-black bg-opacity-75 p-4 text-white w-full">
          <h2 className="text-xl font-bold">{sel.name}</h2><p>{sel.desc}</p>
          {sel.imgKey&&<img src={`/assets/${sel.imgKey}.jpg`} alt={sel.name} className="w-48 my-2 rounded"/>}
          <button className="bg-blue-600 px-4 py-2 rounded">Drop In</button>
        </div>
      )}
    </div>
  );
}

// components/ProSettings.jsx
import pros from '../data/pros.json';
export default function ProSettings(){
  return(
    <div className="p-4 grid grid-cols-1 md:grid-cols-3 gap-6">
      {pros.map(p=>(
        <div key={p.id} className="bg-gray-800 p-4 rounded text-white">
          <h3 className="font-bold">{p.name}</h3><p>DPI: {p.dpi}</p><p>Sens: {p.sens}</p>
        </div>
      ))}
    </div>
  );
}

// components/OrgLeaderboard.jsx
import orgs from '../data/orgs.json';
export default function OrgLeaderboard(){
  return(
    <table className="table-auto w-full text-white">
      <thead><tr className="bg-gray-700"><th>Org</th><th>Earnings</th><th>FNCS Wins</th></tr></thead>
      <tbody>{orgs.map(o=>(
        <tr key={o.org} className="bg-gray-800"><td>{o.org}</td><td>${o.earnings.toLocaleString()}</td><td>{o.fncsWins}</td></tr>
      ))}</tbody>
    </table>
  );
}

// components/WeaponStats.jsx
import stats from '../data/weapons.json';
export default function WeaponStats(){
  return(
    <div className="p-4 grid grid-cols-1 md:grid-cols-2 gap-6 text-white">
      {Object.values(stats).map(w=>(
        <div key={w.id} className="bg-gray-800 p-4 rounded">
          <h3 className="font-bold">{w.name} ({w.rarity})</h3>
          <p>DPS: {w.dps}</p
